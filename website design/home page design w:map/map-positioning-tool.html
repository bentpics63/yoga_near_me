<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map Positioning Tool - Drag & Drop Cities</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        h1 {
            color: #5F7470;
            margin-bottom: 10px;
        }

        .instructions {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .instructions h3 {
            color: #856404;
            margin-bottom: 8px;
        }

        .instructions ol {
            margin-left: 20px;
            color: #856404;
        }

        .instructions li {
            margin-bottom: 5px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 20px;
        }

        .city-list {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            height: fit-content;
            max-height: 900px;
            overflow-y: auto;
        }

        .city-list h3 {
            color: #5F7470;
            margin-bottom: 15px;
            position: sticky;
            top: 0;
            background: white;
            padding-bottom: 10px;
        }

        .city-list-item {
            padding: 8px 12px;
            margin-bottom: 6px;
            background: #f8f9fa;
            border-radius: 6px;
            font-size: 14px;
            color: #333;
            cursor: help;
            border-left: 3px solid #ccc;
        }

        .city-list-item.positioned {
            border-left-color: #28a745;
            background: #d4edda;
        }

        .city-list-item:hover {
            background: #e9ecef;
        }

        .map-area {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .map-container {
            position: relative;
            width: 100%;
            height: 1600px;
            background: linear-gradient(135deg, #F8FAFA 0%, #E8F0F0 100%);
            border-radius: 16px;
            overflow: hidden;
            border: 2px dashed #5F7470;
        }

        .map-bg {
            position: absolute;
            top: calc(-30% - 110px);
            left: 0;
            width: 100%;
            height: 180%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .map-bg img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            object-position: center center;
            opacity: 0.85;
            user-select: none;
            pointer-events: none;
            transform: scale(1.5);
        }

        .city {
            position: absolute;
            cursor: move;
            z-index: 10;
            transform: translate(-50%, -50%);
        }

        .city.dragging {
            opacity: 0.7;
            z-index: 1000;
        }

        .city-dot {
            width: 16px;
            height: 16px;
            background: #FF5733;
            border: 2px solid white;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(255, 87, 51, 0.6);
            transition: transform 0.2s;
        }

        .city:hover .city-dot {
            transform: scale(1.3);
        }

        .city-name {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            color: #5F7470;
            white-space: nowrap;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
            pointer-events: none;
        }

        .controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .btn-primary {
            background: #FF5733;
            color: white;
        }

        .btn-primary:hover {
            background: #FF7F5C;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 87, 51, 0.3);
        }

        .btn-secondary {
            background: #5F7470;
            color: white;
        }

        .btn-secondary:hover {
            background: #4a5d59;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        .output-area {
            margin-top: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            display: none;
        }

        .output-area.active {
            display: block;
        }

        .output-area h3 {
            color: #5F7470;
            margin-bottom: 10px;
        }

        .output-code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre;
            position: relative;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 6px 12px;
            background: #FF5733;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .copy-btn:hover {
            background: #FF7F5C;
        }

        .stats {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 8px;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #1976d2;
        }

        .stat-label {
            font-size: 12px;
            color: #555;
            margin-top: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üó∫Ô∏è Interactive Map Positioning Tool</h1>

            <div class="instructions">
                <h3>üìã How to Use This Tool:</h3>
                <ol>
                    <li><strong>Drag & Drop:</strong> Drag each orange dot to the correct geographic location on the map</li>
                    <li><strong>Watch Progress:</strong> The city list on the left turns green as you position each city</li>
                    <li><strong>Generate Code:</strong> Click "Generate Coordinates" when you're done positioning all cities</li>
                    <li><strong>Copy & Send:</strong> Click "Copy to Clipboard" and paste the code into the chat</li>
                    <li><strong>Reset:</strong> Use "Reset All Positions" if you want to start over</li>
                </ol>
                <p style="margin-top: 10px; font-weight: 600;">üí° Tip: Hover over the map to see city names. The dots are draggable!</p>
            </div>

            <div class="stats">
                <div class="stat">
                    <div class="stat-value" id="totalCities">46</div>
                    <div class="stat-label">Total Cities</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="positionedCities">0</div>
                    <div class="stat-label">Positioned</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="remainingCities">46</div>
                    <div class="stat-label">Remaining</div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="city-list" id="cityList">
                <h3>Cities (46)</h3>
                <p style="font-size: 12px; color: #666; margin-bottom: 10px;">35 US + 11 Canada</p>
                <!-- Will be populated by JavaScript -->
            </div>

            <div class="map-area">
                <div class="map-container" id="mapContainer">
                    <div class="map-bg">
                        <img src="map-usa-canada.png" alt="Map of USA and Canada">
                    </div>
                    <!-- Cities will be added by JavaScript -->
                </div>

                <div class="controls">
                    <button class="btn btn-primary" onclick="generateCoordinates()">
                        <i class="fas fa-code"></i> Generate Coordinates
                    </button>
                    <button class="btn btn-secondary" onclick="resetPositions()">
                        <i class="fas fa-undo"></i> Reset All Positions
                    </button>
                    <button class="btn btn-success" onclick="autoPosition()">
                        <i class="fas fa-magic"></i> Auto-Position (Best Guess)
                    </button>
                </div>

                <div class="output-area" id="outputArea">
                    <h3>‚úÖ Coordinates Generated - Copy and Paste This:</h3>
                    <div style="position: relative;">
                        <button class="copy-btn" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> Copy to Clipboard
                        </button>
                        <div class="output-code" id="outputCode"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const cities = [
            // US Cities (35)
            { name: "San Francisco", state: "CA", studios: "1,089" },
            { name: "Denver", state: "CO", studios: "678" },
            { name: "Seattle", state: "WA", studios: "743" },
            { name: "Boston", state: "MA", studios: "823" },
            { name: "Portland", state: "OR", studios: "612" },
            { name: "San Diego", state: "CA", studios: "734" },
            { name: "Austin", state: "TX", studios: "498" },
            { name: "New York City", state: "NY", studios: "1,247" },
            { name: "Washington", state: "DC", studios: "456" },
            { name: "Minneapolis", state: "MN", studios: "389" },
            { name: "Miami", state: "FL", studios: "512" },
            { name: "Columbus", state: "OH", studios: "445" },
            { name: "Oakland", state: "CA", studios: "678" },
            { name: "Atlanta", state: "GA", studios: "589" },
            { name: "Tucson", state: "AZ", studios: "198" },
            { name: "Los Angeles", state: "CA", studios: "2,156" },
            { name: "Chicago", state: "IL", studios: "892" },
            { name: "Philadelphia", state: "PA", studios: "512" },
            { name: "Phoenix", state: "AZ", studios: "521" },
            { name: "Dallas", state: "TX", studios: "567" },
            { name: "Houston", state: "TX", studios: "634" },
            { name: "San Jose", state: "CA", studios: "589" },
            { name: "Sacramento", state: "CA", studios: "312" },
            { name: "Raleigh‚ÄìDurham", state: "NC", studios: "356" },
            { name: "Orlando", state: "FL", studios: "423" },
            { name: "Tampa‚ÄìSt. Petersburg", state: "FL", studios: "389" },
            { name: "Missoula", state: "MT", studios: "134" },
            { name: "Portland", state: "ME", studios: "187" },
            { name: "Greensboro", state: "NC", studios: "178" },
            { name: "Scottsdale", state: "AZ", studios: "234" },
            { name: "Honolulu", state: "HI", studios: "289" },
            { name: "Boulder", state: "CO", studios: "312" },
            { name: "Asheville", state: "NC", studios: "234" },
            { name: "Nashville", state: "TN", studios: "423" },
            { name: "Baltimore", state: "MD", studios: "378" },

            // Canadian Cities (11)
            { name: "Vancouver", state: "BC", studios: "456" },
            { name: "Toronto", state: "ON", studios: "612" },
            { name: "Montreal", state: "QC", studios: "398" },
            { name: "Calgary", state: "AB", studios: "289" },
            { name: "Ottawa", state: "ON", studios: "234" },
            { name: "Edmonton", state: "AB", studios: "198" },
            { name: "Victoria", state: "BC", studios: "167" },
            { name: "Winnipeg", state: "MB", studios: "145" },
            { name: "Quebec City", state: "QC", studios: "178" },
            { name: "Hamilton", state: "ON", studios: "145" },
            { name: "Halifax", state: "NS", studios: "134" }
        ];

        let draggedElement = null;
        let positionedCount = 0;

        function initializeCities() {
            const mapContainer = document.getElementById('mapContainer');
            const cityListElement = document.getElementById('cityList');

            cities.forEach((city, index) => {
                // Create city marker
                const cityDiv = document.createElement('div');
                cityDiv.className = 'city';
                cityDiv.dataset.cityName = city.name;
                cityDiv.dataset.state = city.state;
                cityDiv.dataset.studios = city.studios;
                cityDiv.style.left = '50%';
                cityDiv.style.top = '50%';
                cityDiv.draggable = true;

                cityDiv.innerHTML = `
                    <div class="city-dot"></div>
                    <div class="city-name">${city.name}, ${city.state}</div>
                `;

                cityDiv.addEventListener('dragstart', handleDragStart);
                cityDiv.addEventListener('dragend', handleDragEnd);

                mapContainer.appendChild(cityDiv);

                // Create list item
                const listItem = document.createElement('div');
                listItem.className = 'city-list-item';
                listItem.id = `list-${city.name.replace(/\s+/g, '-')}`;
                listItem.innerHTML = `${city.name}, ${city.state}`;
                cityListElement.appendChild(listItem);
            });

            // Make map container droppable
            mapContainer.addEventListener('dragover', handleDragOver);
            mapContainer.addEventListener('drop', handleDrop);

            updateStats();
        }

        function handleDragStart(e) {
            draggedElement = e.target.closest('.city');
            draggedElement.classList.add('dragging');
        }

        function handleDragEnd(e) {
            if (draggedElement) {
                draggedElement.classList.remove('dragging');
                updatePositionedStatus(draggedElement);
                draggedElement = null;
            }
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDrop(e) {
            e.preventDefault();
            if (!draggedElement) return;

            const mapContainer = document.getElementById('mapContainer');
            const rect = mapContainer.getBoundingClientRect();

            const x = ((e.clientX - rect.left) / rect.width) * 100;
            const y = ((e.clientY - rect.top) / rect.height) * 100;

            draggedElement.style.left = `${x}%`;
            draggedElement.style.top = `${y}%`;
        }

        function updatePositionedStatus(cityElement) {
            const cityName = cityElement.dataset.cityName;
            const listItemId = `list-${cityName.replace(/\s+/g, '-')}`;
            const listItem = document.getElementById(listItemId);

            if (listItem && !listItem.classList.contains('positioned')) {
                listItem.classList.add('positioned');
                positionedCount++;
                updateStats();
            }
        }

        function updateStats() {
            document.getElementById('positionedCities').textContent = positionedCount;
            document.getElementById('remainingCities').textContent = 46 - positionedCount;
        }

        function generateCoordinates() {
            const cityElements = document.querySelectorAll('.city');
            let output = 'CITY COORDINATES:\n\n';

            cityElements.forEach(city => {
                const name = city.dataset.cityName;
                const state = city.dataset.state;
                const studios = city.dataset.studios;
                const left = city.style.left;
                const top = city.style.top;

                output += `{ name: "${name}", state: "${state}", studios: "${studios}", left: "${left}", top: "${top}" },\n`;
            });

            document.getElementById('outputCode').textContent = output;
            document.getElementById('outputArea').classList.add('active');

            // Scroll to output
            document.getElementById('outputArea').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function copyToClipboard() {
            const outputCode = document.getElementById('outputCode').textContent;
            navigator.clipboard.writeText(outputCode).then(() => {
                const btn = document.querySelector('.copy-btn');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                setTimeout(() => {
                    btn.innerHTML = originalText;
                }, 2000);
            });
        }

        function resetPositions() {
            if (!confirm('Reset all city positions? This will move all dots back to the center.')) return;

            const cityElements = document.querySelectorAll('.city');
            cityElements.forEach(city => {
                city.style.left = '50%';
                city.style.top = '50%';
            });

            const listItems = document.querySelectorAll('.city-list-item');
            listItems.forEach(item => item.classList.remove('positioned'));

            positionedCount = 0;
            updateStats();
            document.getElementById('outputArea').classList.remove('active');
        }

        function autoPosition() {
            alert('Auto-positioning with approximate geographic coordinates...');

            const positions = {
                // US Cities
                "San Francisco": { left: "11%", top: "54%" },
                "Denver": { left: "33%", top: "51%" },
                "Seattle": { left: "16%", top: "33%" },
                "Boston": { left: "80%", top: "45%" },
                "Portland": { left: "16%", top: "38%" },
                "San Diego": { left: "16%", top: "65%" },
                "Austin": { left: "47%", top: "67%" },
                "New York City": { left: "78%", top: "48%" },
                "Washington": { left: "74%", top: "52%" },
                "Minneapolis": { left: "53%", top: "38%" },
                "Miami": { left: "70%", top: "80%" },
                "Columbus": { left: "67%", top: "50%" },
                "Oakland": { left: "12%", top: "54%" },
                "Atlanta": { left: "65%", top: "63%" },
                "Tucson": { left: "27%", top: "65%" },
                "Los Angeles": { left: "15%", top: "62%" },
                "Chicago": { left: "58%", top: "45%" },
                "Philadelphia": { left: "76%", top: "50%" },
                "Phoenix": { left: "25%", top: "63%" },
                "Dallas": { left: "48%", top: "64%" },
                "Houston": { left: "50%", top: "70%" },
                "San Jose": { left: "12%", top: "55%" },
                "Sacramento": { left: "13%", top: "52%" },
                "Raleigh‚ÄìDurham": { left: "73%", top: "58%" },
                "Orlando": { left: "71%", top: "75%" },
                "Tampa‚ÄìSt. Petersburg": { left: "67%", top: "76%" },
                "Missoula": { left: "27%", top: "32%" },
                "Portland": { left: "82%", top: "42%" },
                "Greensboro": { left: "72%", top: "59%" },
                "Scottsdale": { left: "26%", top: "63%" },
                "Honolulu": { left: "5%", top: "75%" },
                "Boulder": { left: "33%", top: "48%" },
                "Asheville": { left: "67%", top: "60%" },
                "Nashville": { left: "59%", top: "58%" },
                "Baltimore": { left: "75%", top: "51%" },

                // Canadian Cities
                "Vancouver": { left: "16%", top: "25%" },
                "Toronto": { left: "72%", top: "42%" },
                "Montreal": { left: "78%", top: "37%" },
                "Calgary": { left: "28%", top: "24%" },
                "Ottawa": { left: "75%", top: "38%" },
                "Edmonton": { left: "28%", top: "20%" },
                "Victoria": { left: "15%", top: "27%" },
                "Winnipeg": { left: "48%", top: "24%" },
                "Quebec City": { left: "80%", top: "35%" },
                "Hamilton": { left: "71%", top: "43%" },
                "Halifax": { left: "85%", top: "42%" }
            };

            const cityElements = document.querySelectorAll('.city');
            cityElements.forEach(city => {
                const name = city.dataset.cityName;
                if (positions[name]) {
                    city.style.left = positions[name].left;
                    city.style.top = positions[name].top;
                    updatePositionedStatus(city);
                }
            });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', initializeCities);
    </script>
</body>
</html>
